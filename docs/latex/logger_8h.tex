\hypertarget{logger_8h}{}\doxysection{src/logger.h File Reference}
\label{logger_8h}\index{src/logger.h@{src/logger.h}}


\mbox{\hyperlink{logger_8h}{logger.\+h}} is a general use logger created for use in C embedded projects. The logger supports defininfing multipule \char`\"{}destinations\char`\"{} that log messages can be simutanously logged to. Verbosity can be configured on a per destination level. ~\newline
  


{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{logger_8h_a5e48e71c47e99dd78598f39df2f50823}\label{logger_8h_a5e48e71c47e99dd78598f39df2f50823}} 
typedef void($\ast$ \mbox{\hyperlink{logger_8h_a5e48e71c47e99dd78598f39df2f50823}{write\+\_\+function}}) (const char $\ast$)
\begin{DoxyCompactList}\small\item\em Definition of our function pointer type for the write funtions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{logger_8h_a3c5cd7b38774777786be659efbfe8196}\label{logger_8h_a3c5cd7b38774777786be659efbfe8196}} 
enum \mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}} \{ \newline
{\bfseries OFF}
, {\bfseries ERROR}
, {\bfseries WARNING}
, {\bfseries INFO}
, \newline
{\bfseries DEBUG}
 \}
\begin{DoxyCompactList}\small\item\em Typedef\textquotesingle{}d enum representing verbosity levels, in increasing order of verbosity from least verbose (ERROR, only logs ERRORs) to most verbose (DEBUG, will log all). When a destination is configured with a certain verbosity, messages logged with that verbosity or LOWER will be sent to the destination. e.\+g. a destination with verbosity INFO will receive logs logged with verbosity INFO, WARNING and ERROR, but not DEBUG. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{logger_8h_acca02da5a5a8b842893ecc30ea12fda7}\label{logger_8h_acca02da5a5a8b842893ecc30ea12fda7}} 
void \mbox{\hyperlink{logger_8h_acca02da5a5a8b842893ecc30ea12fda7}{logger\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Zeros destination head counter, sets the global verbosity level to off and does all house keeping needed before defining destiatnions and logging messages. \end{DoxyCompactList}\item 
uint32\+\_\+t \mbox{\hyperlink{logger_8h_a7fa27850e67dacc1bed9635bd8797a88}{logger\+\_\+get\+\_\+output\+\_\+count}} ()
\begin{DoxyCompactList}\small\item\em Returns the amount of registered destions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a9fecc453a1dc3daf8da7fa32e1cc2567}{logger\+\_\+log}} (\mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}} verbosity, const char $\ast$message,...)
\begin{DoxyCompactList}\small\item\em Function that does the logging. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a9f4add0e0d817f6bdea6379ae27f7a05}{logger\+\_\+register\+\_\+destination}} (\mbox{\hyperlink{logger_8h_a5e48e71c47e99dd78598f39df2f50823}{write\+\_\+function}} fn\+\_\+ptr, \mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}} verbosity, bool enabled, const char $\ast$id)
\begin{DoxyCompactList}\small\item\em Function to register destinations for logging and setting the default config for the destination. Note the id input is needed to change config of the destination after creation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a9b293444f87c3de4daf50cf1566b1be4}{logger\+\_\+set\+\_\+global\+\_\+verbosity}} (\mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}} verbosity)
\begin{DoxyCompactList}\small\item\em Sets a global verbosity which overrides the specific verbosity of all registered destinations. This function can use a special verbosity (OFF) which disables the global verbosity functionality i.\+e. set\+\_\+global\+\_\+verbosity(\+OFF) doesn\textquotesingle{}t turn off all destinations, rather turns off the global verbosity, restoring all destinations to their previous verbosity levels. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a49fd5b432b5fe7f50831ed037e85f0ba}{logger\+\_\+disable\+\_\+dest}} (const char $\ast$id)
\begin{DoxyCompactList}\small\item\em Toggles a destination off; no logs will be sent to the destination. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logger_8h_a90556cffcd0f30248eeef9d88b14ae25}{logger\+\_\+enable\+\_\+dest}} (const char $\ast$id)
\begin{DoxyCompactList}\small\item\em Enable a specific destination output to be logged. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{logger_8h_aae444b778420a651df1cfcb110a6340d}\label{logger_8h_aae444b778420a651df1cfcb110a6340d}} 
void \mbox{\hyperlink{logger_8h_aae444b778420a651df1cfcb110a6340d}{logger\+\_\+disable\+\_\+all}} (void)
\begin{DoxyCompactList}\small\item\em Disable all logger destinations. All logger output will cease until logger\+\_\+enable\+\_\+all is called, or individual destinations are enabled. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{logger_8h_a360cf156e1d71dfae2130345f0b98db3}\label{logger_8h_a360cf156e1d71dfae2130345f0b98db3}} 
void \mbox{\hyperlink{logger_8h_a360cf156e1d71dfae2130345f0b98db3}{logger\+\_\+enable\+\_\+all}} (void)
\begin{DoxyCompactList}\small\item\em Enable all logger destination to output. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\mbox{\hyperlink{logger_8h}{logger.\+h}} is a general use logger created for use in C embedded projects. The logger supports defininfing multipule \char`\"{}destinations\char`\"{} that log messages can be simutanously logged to. Verbosity can be configured on a per destination level. ~\newline
 

\begin{DoxyAuthor}{Author}
Pat, tom and dean 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{logger_8h_a49fd5b432b5fe7f50831ed037e85f0ba}\label{logger_8h_a49fd5b432b5fe7f50831ed037e85f0ba}} 
\index{logger.h@{logger.h}!logger\_disable\_dest@{logger\_disable\_dest}}
\index{logger\_disable\_dest@{logger\_disable\_dest}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_disable\_dest()}{logger\_disable\_dest()}}
{\footnotesize\ttfamily void logger\+\_\+disable\+\_\+dest (\begin{DoxyParamCaption}\item[{const char $\ast$}]{id }\end{DoxyParamCaption})}



Toggles a destination off; no logs will be sent to the destination. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em id} & -\/ Unique identifier string of the destination. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{logger_8h_a90556cffcd0f30248eeef9d88b14ae25}\label{logger_8h_a90556cffcd0f30248eeef9d88b14ae25}} 
\index{logger.h@{logger.h}!logger\_enable\_dest@{logger\_enable\_dest}}
\index{logger\_enable\_dest@{logger\_enable\_dest}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_enable\_dest()}{logger\_enable\_dest()}}
{\footnotesize\ttfamily void logger\+\_\+enable\+\_\+dest (\begin{DoxyParamCaption}\item[{const char $\ast$}]{id }\end{DoxyParamCaption})}



Enable a specific destination output to be logged. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em id} & -\/ String that is the unique identifier of the destination. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{logger_8h_a7fa27850e67dacc1bed9635bd8797a88}\label{logger_8h_a7fa27850e67dacc1bed9635bd8797a88}} 
\index{logger.h@{logger.h}!logger\_get\_output\_count@{logger\_get\_output\_count}}
\index{logger\_get\_output\_count@{logger\_get\_output\_count}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_get\_output\_count()}{logger\_get\_output\_count()}}
{\footnotesize\ttfamily uint32\+\_\+t logger\+\_\+get\+\_\+output\+\_\+count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Returns the amount of registered destions. 

\begin{DoxyReturn}{Returns}
The current total number of destinations 
\end{DoxyReturn}
\mbox{\Hypertarget{logger_8h_a9fecc453a1dc3daf8da7fa32e1cc2567}\label{logger_8h_a9fecc453a1dc3daf8da7fa32e1cc2567}} 
\index{logger.h@{logger.h}!logger\_log@{logger\_log}}
\index{logger\_log@{logger\_log}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_log()}{logger\_log()}}
{\footnotesize\ttfamily void logger\+\_\+log (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}}}]{verbosity,  }\item[{const char $\ast$}]{message,  }\item[{}]{... }\end{DoxyParamCaption})}



Function that does the logging. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em verbosity} & -\/ The message verbosity \\
\hline
\mbox{\texttt{ in}}  & {\em message} & -\/ Message content \\
\hline
\mbox{\texttt{ in}}  & {\em ...} & Additional Variadic arguments for formatting the string ~\newline
 \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{logger_8h_a9f4add0e0d817f6bdea6379ae27f7a05}\label{logger_8h_a9f4add0e0d817f6bdea6379ae27f7a05}} 
\index{logger.h@{logger.h}!logger\_register\_destination@{logger\_register\_destination}}
\index{logger\_register\_destination@{logger\_register\_destination}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_register\_destination()}{logger\_register\_destination()}}
{\footnotesize\ttfamily void logger\+\_\+register\+\_\+destination (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{logger_8h_a5e48e71c47e99dd78598f39df2f50823}{write\+\_\+function}}}]{fn\+\_\+ptr,  }\item[{\mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}}}]{verbosity,  }\item[{bool}]{enabled,  }\item[{const char $\ast$}]{id }\end{DoxyParamCaption})}



Function to register destinations for logging and setting the default config for the destination. Note the id input is needed to change config of the destination after creation. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fn\+\_\+ptr} & -\/ pointer to the ouput function that will be called and passed the message and variadic arguments when logger\+\_\+log is called \\
\hline
\mbox{\texttt{ in}}  & {\em verbosity} & -\/ the minium verbosity level that will be allowed to be logged to this destination \\
\hline
\mbox{\texttt{ in}}  & {\em enabled} & -\/ if false the destination wont log messages until the \mbox{\hyperlink{logger_8h_a90556cffcd0f30248eeef9d88b14ae25}{logger\+\_\+enable\+\_\+dest()}} is called and the destination re-\/enabled \\
\hline
\mbox{\texttt{ in}}  & {\em id} & -\/ The id string accociated with this destination, needed to identify destination when changing config \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{logger_8h_a9b293444f87c3de4daf50cf1566b1be4}\label{logger_8h_a9b293444f87c3de4daf50cf1566b1be4}} 
\index{logger.h@{logger.h}!logger\_set\_global\_verbosity@{logger\_set\_global\_verbosity}}
\index{logger\_set\_global\_verbosity@{logger\_set\_global\_verbosity}!logger.h@{logger.h}}
\doxysubsubsection{\texorpdfstring{logger\_set\_global\_verbosity()}{logger\_set\_global\_verbosity()}}
{\footnotesize\ttfamily void logger\+\_\+set\+\_\+global\+\_\+verbosity (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{logger_8h_a3c5cd7b38774777786be659efbfe8196}{logger\+\_\+verbosity\+\_\+t}}}]{verbosity }\end{DoxyParamCaption})}



Sets a global verbosity which overrides the specific verbosity of all registered destinations. This function can use a special verbosity (OFF) which disables the global verbosity functionality i.\+e. set\+\_\+global\+\_\+verbosity(\+OFF) doesn\textquotesingle{}t turn off all destinations, rather turns off the global verbosity, restoring all destinations to their previous verbosity levels. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em verbosity} & \\
\hline
\end{DoxyParams}
